(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{4722:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return a(972)}])},972:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return l}});var n=a(5893),s=a(7294),t=a(1163);function l(){let e=(0,t.useRouter)(),[r,a]=(0,s.useState)({name:"",email:"",password:"",role:"organisateur"}),[l,o]=(0,s.useState)(""),u=e=>{a({...r,[e.target.name]:e.target.value})},i=async a=>{a.preventDefault(),o("");let n=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),s=await n.json();n.ok?(localStorage.setItem("user",JSON.stringify(s)),"organisateur"===s.role?e.push("/organizer/dashboard"):"marie"===s.role?e.push("/weddings"):"prestataire"===s.role?e.push("/vendors/profile"):e.push("/")):o(s.message||"Une erreur est survenue")};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,n.jsxs)("form",{onSubmit:i,className:"bg-white p-6 rounded shadow-md w-full max-w-sm",children:[(0,n.jsx)("h1",{className:"text-xl font-semibold mb-4",children:"Cr\xe9er un compte"}),l&&(0,n.jsx)("p",{className:"text-red-500 mb-2",children:l}),(0,n.jsx)("input",{name:"name",type:"text",placeholder:"Nom",required:!0,className:"w-full border p-2 mb-3 rounded",value:r.name,onChange:u}),(0,n.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0,className:"w-full border p-2 mb-3 rounded",value:r.email,onChange:u}),(0,n.jsx)("input",{name:"password",type:"password",placeholder:"Mot de passe",required:!0,className:"w-full border p-2 mb-3 rounded",value:r.password,onChange:u}),(0,n.jsxs)("select",{name:"role",className:"w-full border p-2 mb-3 rounded",value:r.role,onChange:u,children:[(0,n.jsx)("option",{value:"organisateur",children:"Organisateur"}),(0,n.jsx)("option",{value:"marie",children:"Mari\xe9(e)"})]}),(0,n.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"S'inscrire"}),(0,n.jsxs)("p",{className:"text-sm mt-4 text-center",children:["D\xe9j\xe0 un compte ?"," ",(0,n.jsx)("a",{href:"/login",className:"text-blue-600 underline",children:"Se connecter"})]})]})})}},1163:function(e,r,a){e.exports=a(6885)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4722)}),_N_E=e.O()}]);