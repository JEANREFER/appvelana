(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{4528:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/vendors",function(){return a(9271)}])},9271:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return i}});var n=a(5893),t=a(7294);function i(){let[e,s]=(0,t.useState)([]),a=async()=>{let e=await fetch("/api/admin/vendors"),a=await e.json();s(a)};(0,t.useEffect)(()=>{a()},[]);let i=async e=>{await fetch("/api/admin/vendors/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isApproved:!0})}),a()},r=async e=>{let s=confirm("Supprimer ce prestataire ?");s&&(await fetch("/api/admin/vendors/".concat(e),{method:"DELETE"}),a())};return(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Prestataires \xe0 valider"}),0===e.length?(0,n.jsx)("p",{children:"Aucun prestataire \xe0 valider."}):(0,n.jsxs)("table",{className:"w-full bg-white rounded shadow",children:[(0,n.jsx)("thead",{className:"bg-gray-100",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"p-2",children:"Nom"}),(0,n.jsx)("th",{className:"p-2",children:"Ville"}),(0,n.jsx)("th",{className:"p-2",children:"Cr\xe9ateur"}),(0,n.jsx)("th",{className:"p-2",children:"Action"})]})}),(0,n.jsx)("tbody",{children:e.map(e=>(0,n.jsxs)("tr",{className:"border-b",children:[(0,n.jsx)("td",{className:"p-2",children:e.name}),(0,n.jsx)("td",{className:"p-2",children:e.city}),(0,n.jsxs)("td",{className:"p-2",children:["User #",e.userId]}),(0,n.jsxs)("td",{className:"p-2 flex gap-2",children:[(0,n.jsx)("button",{onClick:()=>i(e.id),className:"bg-green-600 text-white px-3 py-1 rounded",children:"Valider"}),(0,n.jsx)("button",{onClick:()=>r(e.id),className:"bg-red-600 text-white px-3 py-1 rounded",children:"Supprimer"})]})]},e.id))})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4528)}),_N_E=e.O()}]);